(()=>{"use strict";const e=function(e,t){let n=0,d=[];return{setColor:function(e){t=e},getColor:function(){return t},setTitle:function(t){e=t},getTitle:function(){return e},registerTask:function(e){e.setIndex(d.length),d.push(e)},getTasks:function(){return d},removeTask:function(e){const t=e.getIndex();d.splice(t,1)},getIndex:function(){return n},setIndex:function(e){n=e}}};(function(t){let n=[],d=0,i=["#bef264","#fcd34d","#fda4af","#a5b4fc","#f87171","#86efac","#94a3b8"],c=0;const o=function(e,d){console.log(n),e.setIndex(n.length),n.push(e);const i=document.createElement("div");i.style.backgroundColor=d,i.classList.add("renderedHive"),i.id="hive-"+e.getIndex(),console.log(i.id);const c=document.createElement("h2");c.classList.add("renderedTitle"),c.textContent=e.getTitle(),i.appendChild(c);const o=document.createElement("div");o.classList.add("clickListen"),o.dataset.clickOf=i.id,o.addEventListener("click",l),i.appendChild(o),t.appendChild(i)},s=function(e){const t=e.target;t.remove();const d=document.createElement("div");d.classList.add("addTaskForm");const i=document.createElement("input");i.classList.add("addTaskTitle"),i.id="addTaskTitle",i.placeholder="Task Title",d.appendChild(i);const c=document.createElement("textarea");c.classList.add("addTaskDescription"),c.id="addTaskDescription",c.placeholder="Task Description",d.appendChild(c);const o=document.createElement("input");o.classList.add("addTaskDueDate"),o.id="addTaskDueDate",o.placeholder="Task Due Date",d.appendChild(o);const s=document.createElement("input");s.classList.add("addTaskPriority"),s.id="addTaskPriority",s.placeholder="Task Priority",d.appendChild(s);const r=document.createElement("button");r.classList.add("addTaskSubmitBtn"),r.id=e.target.id,r.textContent="+",r.addEventListener("click",(e=>{d.remove();const r=function(e,t,n,d){let i=0;return{setTitle:function(t){e=t},getTitle:function(){return e},setDescription:function(e){t=e},getDescription:function(){return t},setDueDate:function(e){n=e},getDueDate:function(){return n},getPriority:function(){return d},setPriority:function(e){d=e},setIndex:function(e){i=e},getIndex:function(){return i}}}(i.value,c.value,o.value,s.value);n[parseInt(e.target.id)].registerTask(r),a("#hive-"+e.target.id,r),document.querySelector("#hive-"+e.target.id).appendChild(t)})),d.appendChild(r),document.querySelector("#hive-"+e.target.id).appendChild(d)},a=function(e,t){const i=document.createElement("div");i.classList.add("renderedTask"),i.setAttribute("id","task-"+d);const c=document.createElement("h3");c.classList.add("renderedTaskTitle"),c.textContent=t.getTitle(),i.appendChild(c);const o=document.createElement("p");o.classList.add("renderedTaskDescription"),o.textContent=t.getDescription(),i.appendChild(o);const s=document.createElement("p");s.classList.add("renderedTaskDueDate"),s.textContent="Due: "+t.getDueDate(),i.appendChild(s);const a=document.createElement("p");a.classList.add("renderedTaskPriority"),a.textContent="Priority: "+t.getPriority(),i.appendChild(a);const r=document.createElement("button");r.classList.add("deleteTaskBtn"),r.textContent="-",r.dataset.tasksOf=e.substring(1),r.setAttribute("id",d+""),r.addEventListener("click",(e=>{const d=n[parseInt(r.dataset.tasksOf.substring(5))];console.log(r.dataset.tasksOf.substring(5)),d.removeTask(t),document.querySelector("#task-"+e.target.id).remove()})),i.appendChild(r),document.querySelector(e).appendChild(i),d++},r=function(){const n=document.querySelector("#addHiveBtn");n.remove();const d=document.createElement("div");d.classList.add("addHiveForm"),d.id="addHiveForm";const s=document.createElement("input");s.setAttribute("placeholder","Title"),s.id="newHiveTitle",s.classList.add("newHiveTitle"),d.appendChild(s);const a=document.createElement("input");a.type="color",a.value=i[c++],c=c>6?0:c,a.classList.add("newHiveColor"),d.appendChild(a);const r=document.createElement("button");r.textContent="+",r.classList.add("addHiveSubmit"),r.addEventListener("click",(()=>{const i=e(""===document.querySelector("#newHiveTitle").value?"New Hive":document.querySelector("#newHiveTitle").value);o(i,a.value),console.log(document.querySelectorAll(".renderedHive")),d.remove(),t.appendChild(n)})),d.appendChild(r),t.appendChild(d)},l=function(e){const d=document.querySelector("#"+e.target.dataset.clickOf);d.classList.add("expandedHive"),d.removeEventListener("click",l);const i=e.target;i.remove(),document.querySelector("body").style.overflow="hidden",t.style.overflowY="hidden",function(e){const t=document.createElement("button");t.textContent="+Task",t.setAttribute("id",e.id.substring(5)),t.classList.add("addTaskBtn"),t.addEventListener("click",s),e.appendChild(t)}(d),function(e){const d=document.createElement("button");d.classList.add("deleteHiveBtn");const i=document.createElement("img");i.src="images/trash.svg",d.appendChild(i),d.id=e.id.substring(5),d.addEventListener("click",(i=>{n.splice(parseInt(d.id),1),e.remove();for(let e=0;e<n.length;e++){const t=document.querySelector("#hive-"+n[e].getIndex());t.id="hive-"+e,n[e].setIndex(e),t.querySelector(".clickListen").dataset.clickOf=t.id,t.contains(t.querySelector(".deleteTaskBtn"))&&t.querySelectorAll(".deleteTaskBtn").forEach((e=>{e.dataset.tasksOf=t.id}))}document.querySelector(".blurScreen").remove(),document.querySelector("body").style.overflowY="auto",t.style.overflowY="auto"})),e.appendChild(d)}(d),t.contains(document.querySelector(".deleteTaskBtn"))&&d.querySelectorAll(".deleteTaskBtn").forEach((e=>{e.style.visibility="visible"}));const c=document.createElement("div");c.classList.add("blurScreen"),t.appendChild(c),c.addEventListener("click",(()=>{c.remove(),d.classList.remove("expandedHive"),d.contains(document.querySelector(".addTaskForm"))&&d.querySelector(".addTaskForm").remove(),d.contains(document.querySelector(".addTaskBtn"))&&d.querySelector(".addTaskBtn").remove(),t.contains(document.querySelector(".deleteTaskBtn"))&&d.querySelectorAll(".deleteTaskBtn").forEach((e=>{e.style.visibility="hidden"})),document.querySelector("body").style.overflowY="auto",t.style.overflowY="auto",d.querySelector(".deleteHiveBtn").remove(),d.appendChild(i)}))};return{load:function(){const n=e("My First Hive!");o(n,i[6]),function(){const e=document.createElement("button");e.classList.add("addHiveBtn"),e.id="addHiveBtn",e.textContent="+",e.addEventListener("click",r),t.appendChild(e)}()}}})(document.querySelector("#content")).load()})();