(()=>{"use strict";const e=function(e,t){let n=0,d=[];return{setColor:function(e){},getColor:function(){return newColor},setTitle:function(t){e=t},getTitle:function(){return e},registerTask:function(e){e.setIndex(d.length),d.push(e)},getTasks:function(){return d},removeTask:function(e){const t=e.getIndex();d.splice(t,1)},getIndex:function(){return n},setIndex:function(e){n=e}}};(function(t){let n=[],d=0;const i=function(e,d){e.setIndex(n.length),n.push(e);const i=document.createElement("div");i.style.backgroundColor=d,i.classList.add("renderedHive"),i.id="hive-"+e.getIndex();const c=document.createElement("h2");c.classList.add("renderedTitle"),c.textContent=e.getTitle(),i.appendChild(c);const a=document.createElement("div");a.classList.add("clickListen"),a.dataset.clickOf=i.id,a.addEventListener("click",o),i.appendChild(a),t.appendChild(i)},c=function(e){const t=e.target;t.remove();const d=document.createElement("div");d.classList.add("addTaskForm");const i=document.createElement("input");i.classList.add("addTaskTitle"),i.id="addTaskTitle",i.placeholder="Task Title",d.appendChild(i);const c=document.createElement("textarea");c.classList.add("addTaskDescription"),c.id="addTaskDescription",c.placeholder="Task Description",d.appendChild(c);const s=document.createElement("input");s.classList.add("addTaskDueDate"),s.id="addTaskDueDate",s.placeholder="Task Due Date",d.appendChild(s);const o=document.createElement("input");o.classList.add("addTaskPriority"),o.id="addTaskPriority",o.placeholder="Task Priority",d.appendChild(o);const r=document.createElement("button");r.classList.add("addTaskSubmitBtn"),r.id=e.target.id,r.textContent="+",r.addEventListener("click",(e=>{d.remove();const r=function(e,t,n,d,i){let c=0;return{setTitle:function(t){e=t},getTitle:function(){return e},setDescription:function(e){t=e},getDescription:function(){return t},setDueDate:function(e){n=e},getDueDate:function(){return n},getPriority:function(){return d},setPriority:function(e){d=e},setIndex:function(e){c=e},getIndex:function(){return c}}}(i.value,c.value,s.value,o.value);n[parseInt(e.target.id)].registerTask(r),a("#hive-"+e.target.id,r),document.querySelector("#hive-"+e.target.id).appendChild(t)})),d.appendChild(r),document.querySelector("#hive-"+e.target.id).appendChild(d)},a=function(e,t){const i=document.createElement("div");i.classList.add("renderedTask"),i.setAttribute("id","task-"+d);const c=document.createElement("h3");c.classList.add("renderedTaskTitle"),c.textContent=t.getTitle(),i.appendChild(c);const a=document.createElement("p");a.classList.add("renderedTaskDescription"),a.textContent=t.getDescription(),i.appendChild(a);const s=document.createElement("p");s.classList.add("renderedTaskDueDate"),s.textContent="Due: "+t.getDueDate(),i.appendChild(s);const o=document.createElement("p");o.classList.add("renderedTaskPriority"),o.textContent="Priority: "+t.getPriority(),i.appendChild(o);const r=document.createElement("button");r.classList.add("deleteTaskBtn"),r.textContent="-",r.setAttribute("id",d+""),r.addEventListener("click",(d=>{n[parseInt(e.substring(5))].removeTask(t),document.querySelector("#task-"+d.target.id).remove()})),i.appendChild(r),document.querySelector(e).appendChild(i),d++},s=function(){const n=document.querySelector("#addHiveBtn");n.remove();const d=document.createElement("div");d.classList.add("addHiveForm"),d.id="addHiveForm";const c=document.createElement("input");c.setAttribute("placeholder","Title"),c.id="newHiveTitle",c.classList.add("newHiveTitle"),d.appendChild(c);const a=document.createElement("input");a.type="color",a.value="#eab308",a.classList.add("newHiveColor"),d.appendChild(a);const s=document.createElement("button");s.textContent="+",s.classList.add("addHiveSubmit"),s.addEventListener("click",(()=>{const c=e(""===document.querySelector("#newHiveTitle").value?"New Hive":document.querySelector("#newHiveTitle").value);i(c,a.value),d.remove(),t.appendChild(n)})),d.appendChild(s),t.appendChild(d)},o=function(e){const d=document.querySelector("#"+e.target.dataset.clickOf);d.classList.add("expandedHive"),d.removeEventListener("click",o);const i=e.target;i.remove(),function(e){const t=document.createElement("button");t.textContent="+Task",t.setAttribute("id",e.id.substring(5)),t.classList.add("addTaskBtn"),t.addEventListener("click",c),e.appendChild(t)}(d),function(e){const t=document.createElement("button");t.classList.add("deleteHiveBtn"),t.textContent="-",t.id=e.id.substring(5),t.addEventListener("click",(t=>{n.splice(parseInt(t.target.id),1),e.remove(),document.querySelector(".blurScreen").remove()})),e.appendChild(t)}(d),d.contains(document.querySelector(".deleteTaskBtn"))&&document.querySelectorAll(".deleteTaskBtn").forEach((e=>{e.style.visibility="visible"}));const a=document.createElement("div");a.classList.add("blurScreen"),t.appendChild(a),a.addEventListener("click",(e=>{a.remove(),d.classList.remove("expandedHive"),d.contains(document.querySelector(".addTaskForm"))&&document.querySelector(".addTaskForm").remove(),d.contains(document.querySelector(".addTaskBtn"))&&document.querySelector(".addTaskBtn").remove(),d.contains(document.querySelector(".deleteTaskBtn"))&&document.querySelectorAll(".deleteTaskBtn").forEach((e=>{e.style.visibility="hidden"})),document.querySelector(".deleteHiveBtn").remove(),d.appendChild(i)}))};return{load:function(){const n=e("My First Hive!");i(n,"#eab308"),function(){const e=document.createElement("button");e.classList.add("addHiveBtn"),e.id="addHiveBtn",e.textContent="+",e.addEventListener("click",s),t.appendChild(e)}()}}})(document.querySelector("#content")).load()})();